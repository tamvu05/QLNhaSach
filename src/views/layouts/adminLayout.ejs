<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Trang quản trị</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/common.css">
    <link rel="stylesheet" href="/css/adminCustom.css">
</head>

<body>
    <div class="d-flex" id="wrapper">

        <nav class="col-md-3 d-none d-md-block bg-light" id="sidebar-wrapper">
            <%- include('partials/sidebarAdmin') %>
        </nav>

        <main id="page-content-wrapper">
            <button class="btn btn-dark" id="sidebarToggle">
                <i class="fas fa-bars"></i>
            </button>

            <div class="p-4">
                <%- body %>
            </div>
        </main>
    </div>

    <!-- Toast -->
    <div aria-live="polite" aria-atomic="true" class="toast-container position-fixed top-0 end-0 p-3">
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/949f7c9f6d.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/js/sidebar.js"></script>
    <script type="module" src="/js/toast.js"></script>
    <!-- <script src="/js/sortable.js"></script> -->

    <!-- Thêm script cần thiết cho mỗi view -->
    <% if (typeof scripts !=='undefined' ) { %>
        <% scripts.forEach(script=> { %>
            <script  type="module" src="<%= script %>"></script>
        <% }) %>
    <% } %>

</body>

</html>

<style>
    #sidebarToggle {
        background-color: #e3e3e3;
        color: #000;
        border: none;
        padding: 4px;
        position: fixed;
        margin: 2px;
    }

    /* 2. Cố định Sidebar và kích hoạt cuộn cho Sidebar */
    #sidebar-wrapper {
        /* Đã dùng d-flex và col-md-3 nên không cần position: fixed */
        height: 100vh; /* Quan trọng: Cho sidebar chiếm trọn chiều cao */
        overflow-y: auto; /* Kích hoạt thanh cuộn độc lập cho sidebar */
        flex-shrink: 0; /* Ngăn sidebar bị co lại */
    }

    /* 3. Kích hoạt cuộn cho Nội dung chính */
    #page-content-wrapper {
        flex-grow: 1; /* Chiếm hết chiều rộng còn lại */
        height: 100vh; /* Quan trọng: Chiếm trọn chiều cao màn hình */
        overflow-y: auto; /* Kích hoạt thanh cuộn độc lập cho nội dung chính */
        padding-top: 50px; /* Thêm padding để nút Toggle không che khuất nội dung */
    }

    /* 4. Điều chỉnh nút Toggle */
    #sidebarToggle {
        /* Giữ nguyên style gốc của bạn */
        background-color: #e3e3e3;
        color: #000;
        border: none;
        padding: 4px;
        position: fixed; /* Cố định vị trí trên trang */
        top: 2px;
        left: 2px;
        z-index: 1000; /* Đảm bảo nút nằm trên nội dung cuộn */
    }
</style>